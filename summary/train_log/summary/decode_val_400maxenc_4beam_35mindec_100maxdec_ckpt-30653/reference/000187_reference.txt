less a comedy than an angrily dark action thriller , the hangover part iii diverges from the series ' rote formula but offers nothing compelling in its place .