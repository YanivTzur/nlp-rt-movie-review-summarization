though its story is problematic in spots and its humor is hit-or-miss for the adult crowd , madagascar boasts impressive visuals and enough spunky charm to keep children entertained .